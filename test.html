<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>Flatpickr Inline Range (가로 100%)</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <style>
    body {
      margin: 24px;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", sans-serif;
    }

    /* ▽ 달력 전체를 항상 부모 폭에 맞게 */
    .flatpickr-calendar {
      width: 100% !important;
      box-shadow: none !important;
      border: none !important;
    }

    .flatpickr-innerContainer,
    .flatpickr-days {
      width: 100% !important;
    }

    /* ▽ 셀(일자) 크기를 %로 계산해서 꽉 채우기 (7열 기준) */
    .flatpickr-day {
      width: calc(100% / 7);
      max-width: none;
      height: 40px;
      line-height: 40px;
      font-size: 14px;
    }

    /* 요일 헤더도 동일하게 7등분 */
    .flatpickr-weekdays {
      display: flex;
      width: 100%;
    }
    .flatpickr-weekday {
      flex: 1;
      text-align: center;
      font-size: 13px;
    }

    /* ▽ 기본 월/년 UI 숨김 → 커스텀 헤더 사용 */
    .flatpickr-current-month .cur-month,
    .flatpickr-current-month input.cur-year,
    .flatpickr-prev-month,
    .flatpickr-next-month {
      display: none !important;
    }

    /* ▽ 커스텀 헤더 */
    .fp-header {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 8px 0 12px;
      font-size: 16px;
      font-weight: 600;
    }
    .fp-header .fp-btn {
      width: 28px;
      height: 28px;
      border-radius: 6px;
      border: 1px solid #ddd;
      background: #fff;
      cursor: pointer;
    }
    .fp-header .fp-label {
      flex: none;
      min-width: 90px;
      text-align: center;
    }

	
  </style>
</head>
<body>
  <h3>항상 표시되는 날짜 범위 (100% 폭, 1달력)</h3>
  <div id="calendar"></div>

  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ko.js"></script>
  <script>
    function updateHeaderLabel(instance) {
      const d = new Date(instance.currentYear, instance.currentMonth, 1);
      const y = d.getFullYear();
      const m = String(d.getMonth() + 1).padStart(2, '0');
      instance._fpLabel.textContent = `${y}.${m}`;
    }

    flatpickr('#calendar', {
      inline: true,
      mode: 'range',
      dateFormat: 'Y-m-d',
      defaultDate: [
        new Date(Date.now() - 7*24*60*60*1000),
        new Date()
      ],
      locale: flatpickr.l10ns.ko,
      monthSelectorType: 'static',
      onReady(selectedDates, dateStr, instance) {
        const monthsEl = instance.calendarContainer.querySelector('.flatpickr-months');
        if (!instance._fpHeader) {
          const header = document.createElement('div');
          header.className = 'fp-header';
          const prev = document.createElement('button');
          prev.type = 'button'; prev.className = 'fp-btn'; prev.innerHTML = '&#9664;';
          const label = document.createElement('div');
          label.className = 'fp-label';
          const next = document.createElement('button');
          next.type = 'button'; next.className = 'fp-btn'; next.innerHTML = '&#9654;';
          header.append(prev, label, next);
          monthsEl.appendChild(header);
          instance._fpHeader = header;
          instance._fpLabel = label;
          prev.addEventListener('click', () => { instance.changeMonth(-1); updateHeaderLabel(instance); });
          next.addEventListener('click', () => { instance.changeMonth(1);  updateHeaderLabel(instance); });
        }
        updateHeaderLabel(instance);
      },
      onMonthChange: (sd, ds, inst) => updateHeaderLabel(inst),
      onYearChange: (sd, ds, inst) => updateHeaderLabel(inst)
    });
  </script>
</body>
</html>